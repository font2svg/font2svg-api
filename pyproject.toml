[project]
    authors = [{ name = "Bean", email = "dengbin@bilibili.com" }]
    dependencies = [
        "black (>=24.10.0,<25.0.0)",
        "fastapi (>=0.115.6,<0.116.0)",
        "fonttools (>=4.55.3,<5.0.0)",
        "freetype-py (>=2.5.1,<3.0.0)",
        "python-multipart (>=0.0.20,<0.0.21)",
        "requests (>=2.32.3,<3.0.0)",
        "svgpathtools (>=1.6.1,<2.0.0)",
        "uvicorn (>=0.34.0,<0.35.0)",
        "yuanfen (>=2025.1.9.2,<2026.0.0.0)",
    ]
    description = "Font2svg server-side project, written in Python."
    license = { text = "MIT" }
    name = "font2svg-api"
    readme = "README.md"
    requires-python = ">=3.13"
    version = "0.1.0"

[build-system]
    build-backend = "poetry.core.masonry.api"
    requires = ["poetry-core>=2.0.0,<3.0.0"]

[tool.isort]
    profile = "black"

[tool.black]
    line-length = 180

[tool.poetry]
    package-mode = false

[tool.semantic_release]
    assets = []
    commit_message = "chore: release v{version}\n\nAutomatically generated by python-semantic-release"
    commit_parser = "angular"
    logging_use_named_masks = false
    tag_format = "v{version}"
    version_variables = ["src/__init__.py:__version__"]

[tool.semantic_release.branches.main]
    match = "(main|master)"
    prerelease = false
    prerelease_token = "rc"

[tool.semantic_release.changelog]
    changelog_file = "CHANGELOG.md"
    exclude_commit_patterns = ["^build: *", "^chore: *", "^docs: *", "^test: *"]
    template_dir = "templates"

[tool.semantic_release.changelog.environment]
    autoescape = true
    block_end_string = "%}"
    block_start_string = "{%"
    comment_end_string = "#}"
    comment_start_string = "{#"
    extensions = []
    keep_trailing_newline = false
    lstrip_blocks = false
    newline_sequence = "\n"
    trim_blocks = false
    variable_end_string = "}}"
    variable_start_string = "{{"

[tool.semantic_release.commit_author]
    default = "semantic-release <semantic-release>"
    env = "GIT_COMMIT_AUTHOR"

[tool.semantic_release.commit_parser_options]
    allowed_tags = [
        "build",
        "chore",
        "ci",
        "docs",
        "feat",
        "fix",
        "perf",
        "refactor",
        "style",
        "test",
    ]
    default_bump_level = 0
    minor_tags = ["feat"]
    patch_tags = ["chore", "ci", "docs", "fix", "perf", "refactor"]

[tool.semantic_release.remote]
    ignore_token_for_push = false
    name = "origin"
    type = "github"

[tool.semantic_release.remote.token]
    env = "GH_TOKEN"

[tool.semantic_release.publish]
    dist_glob_patterns = ["dist/*"]
    upload_to_vcs_release = true
